<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>랜덤 오디오 자동재생</title>
  <style>
    :root { color-scheme: light dark; }
    body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    .wrap { min-height: 100svh; display: grid; place-items: center; padding: 24px; }
    .card {
      max-width: 560px; width: 100%;
      border-radius: 16px; padding: 20px;
      box-shadow: 0 8px 24px rgba(0,0,0,.08);
      border: 1px solid rgba(0,0,0,.08);
      background: rgba(255,255,255,.6);
      backdrop-filter: blur(6px);
    }
    h1 { margin: 0 0 8px; font-size: 20px; }
    p { margin: 0; opacity: .8; line-height: 1.6; }
    code { background: rgba(0,0,0,.06); padding: .1em .4em; border-radius: 6px; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>랜덤 오디오 자동재생</h1>
      <p>
        이 페이지는 접속할 때마다 <code>1.mp3</code> ~ <code>3.mp3</code> 중 하나를 무작위로 재생합니다.<br/>
        <span id="status">불러오는 중…</span>
      </p>
      <audio id="player" preload="auto" playsinline></audio>
    </div>
  </div>

  <script>
    // 1) 1.mp3 ~ 3.mp3 리스트
    const files = Array.from({ length: 3 }, (_, i) => `${i + 1}.mp3`);

    // 2) 무작위 선택
    const pickRandom = () => files[Math.floor(Math.random() * files.length)];

    const audio = document.getElementById('player');
    const statusEl = document.getElementById('status');

    // 선택된 파일로 소스 교체
    const selected = pickRandom();
    audio.src = selected;

    function updateStatus(text) {
      statusEl.textContent = text;
    }

    async function tryAutoplay() {
      try {
        await audio.play();
        updateStatus(`재생 중: ${selected}`);
      } catch (err) {
        updateStatus('브라우저에서 자동재생이 차단되었습니다.');
        console.warn(err);
      }
    }

    window.addEventListener('DOMContentLoaded', () => {
      tryAutoplay();
    });
  </script>
</body>
</html>
